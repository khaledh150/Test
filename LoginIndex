<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Login - Wonder Kids</title>
  <link href="https://fonts.googleapis.com/css?family=Nunito:400,700&display=swap" rel="stylesheet">
  <style>
    html, body {
      margin: 0;
      font-family: 'Nunito', Arial, sans-serif;
      background: linear-gradient(135deg, #d8e9fa 0%, #e8f2ff 70%, #e5f0ff 100%);
      min-height: 100vh;
      min-width: 100vw;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      transition: background .35s;
    }
    .container {
      display: flex;
      flex-direction: column;
      width: 100%;
      max-width: 410px;
      background: rgba(255,255,255,0.97);
      border-radius: 2.5rem;
      box-shadow: 0 8px 40px #b993d644, 0 1.5px 0 #fff6;
      padding: 3.2rem 2.3rem 2.7rem 2.3rem;
      margin: 2rem 0 0 0;
      z-index: 2;
      animation: popin .7s cubic-bezier(.47,1.71,.55,.91);
    }
    @keyframes popin {
      0% { transform: scale(.85) translateY(40px); opacity:0;}
      80% { transform: scale(1.04) translateY(-5px); opacity:1;}
      100% { transform: scale(1) translateY(0);}
    }
    /* Inputs */
    input {
      padding: 16px 18px;
      border-radius: 2rem;
      border: 2px solid #b0cdfc;
      width: 100%;
      font-size: 1.09rem;
      background: #f7fbff;
      margin-bottom: 17px;
      box-sizing: border-box;
      box-shadow: 0 2px 14px #b0cdfc19;
      transition: border .2s, background .2s, box-shadow .2s;
      outline: none;
      font-family: inherit;
    }
    input:focus, input:active {
      border: 2.2px solid #fd90d7;
      background: #fff3fa;
      box-shadow: 0 3px 23px #fd90d729;
    }
    .password-wrapper {
      width: 100%;
      position: relative;
      margin-bottom: 17px;
      display: flex;
      align-items: center;
    }
    .password-wrapper input[type="password"],
    .password-wrapper input[type="text"] {
      margin-bottom: 0;
      padding-right: 48px;
    }
    .toggle-password {
      position: absolute;
      right: 7px; top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      cursor: pointer;
      padding: 0;
      width: 38px; height: 38px;
      display: flex; align-items: center; justify-content: center;
      border-radius: 50%;
      transition: background .18s;
    }
    .toggle-password:hover, .toggle-password:active { background: #fde2fa; }
    .toggle-password svg {
      width: 24px; height: 24px;
      color: #839aff;
      opacity: 0.85;
    }
    /* Buttons */
    button, .language-switch-inner button {
      background: linear-gradient(90deg, #67aaff 0%, #b993d6 100%);
      color: #fff;
      font-size: 1.21rem;
      border-radius: 2.5rem;
      font-weight: 900;
      border: none;
      box-shadow: 0 3px 15px #b993d622, 0 0 0 #fff0;
      cursor: pointer;
      transition: background .18s, transform .14s;
      outline: none;
      margin-top: 6px;
      margin-bottom: 8px;
      font-family: inherit;
    }
    button:active, .language-switch-inner button:active {
      background: linear-gradient(90deg, #fd90d7 0%, #ffbeef 100%);
      color: #fff;
      transform: scale(0.97);
    }
    #submitBtn {
      font-size: 1.29rem;
      padding: 16px 0 16px 0;
      letter-spacing: .05em;
      margin-bottom: 12px;
      margin-top: 6px;
      width: 100%;
      border-radius: 2.5rem;
      box-shadow: 0 3px 23px #b993d622;
    }
    .language-switch-inner {
      display: flex;
      justify-content: center;
      margin-top: 3px;
      margin-bottom: 2px;
    }
    #langBtn {
      font-size: 1.02rem;
      padding: 7px 25px;
      border-radius: 2.5rem;
      background: linear-gradient(90deg, #b993d6 10%, #67aaff 90%);
      color: #fff;
      box-shadow: 0 2px 10px #b993d626;
      font-weight: 800;
      width: auto;
      margin: 0;
    }
    /* Misc form */
    h2 {
      font-size: clamp(20px, 5vw, 30px);
      text-align: center;
      margin-bottom: 25px;
      color: #4577ff;
      font-weight: 900;
      letter-spacing: .05em;
      text-shadow: 0 2px 0 #fff6;
    }
    .remember-forgot {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 1.05em;
      margin-bottom: 12px;
      padding: 0 2px;
    }
    .remember-label {
      display: flex; align-items: center; gap: 8px;
      white-space: nowrap; cursor: pointer; user-select: none; font-weight: 600; color: #6d82a5;
      font-size: 0.97em;
      flex-direction: row;
    }
    .remember-label input[type="checkbox"] {
      accent-color: #67aaff;
      width: 20px; height: 20px; vertical-align: middle; margin-top: 0;
      border-radius: 7px; border: 1.3px solid #67aaff;
    }
    .forgot-link {
      color: #a86ec7;
      cursor: pointer;
      text-decoration: none;
      font-size: 1em;
      font-weight: 600;
      transition: text-decoration 0.2s;
      letter-spacing: .01em;
    }
    .forgot-link:hover { text-decoration: underline; }
    .toggle {
      text-align: center;
      margin-top: 16px;
      font-size: 1.01em;
      color: #888;
    }
    .toggle a {
      color: #fd90d7;
      cursor: pointer;
      text-decoration: none;
      font-weight: 700;
      font-size: 1em;
    }
    .toggle a:hover { text-decoration: underline; }
    /* Mascot BELOW card (quiz style) */
    .mascot-holder {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      width: 100%;
      margin: 0 auto;
      margin-top: 18px;
      pointer-events: none;
      height: 150px;
      z-index: 2;
      animation: mascotBounce 2.2s infinite alternate cubic-bezier(.71,1.54,.55,.97);
    }
    @keyframes mascotBounce {
      from { transform: translateY(-5px);}
      to   { transform: translateY(15px);}
    }
    .abacus-mascot {
      width: 125px; height: 150px; margin-bottom: 0.2rem; position:relative; display: flex; flex-direction: column; align-items: center; justify-content: center; z-index: 12; filter: drop-shadow(0 2px 12px #b993d6a1); background: none;}
    .mascot-face { position: absolute; left: 50%; top: 52%; transform: translate(-50%,0); width: 45px; height: 38px; background: #ffe680; border-radius: 50% 50% 58% 60%; display: flex; align-items: center; justify-content: center; box-shadow: 0 3px 18px #fff8, 0 0 0 3px #fff3; border: 2.2px solid #ffd70088;}
    .mascot-face .eyes { display: flex; flex-direction: row; align-items: center; margin-top: 13px; margin-left: 6px;}
    .mascot-face .eye { width: 7px; height: 7px; background: #333; border-radius: 50%; margin-right: 6px; margin-left: 3px; box-shadow: 9px 0 0 0 #333;}
    .mascot-face .smile { position: absolute; left: 49%; top: 68%; transform: translate(-50%,-50%); width: 23px; height: 11px; border-bottom: 3.3px solid #ff7e7e; border-radius: 0 0 19px 19px; background: none; z-index: 1;}
    .mascot-face .cheek { position: absolute; width: 8px; height: 4px; border-radius: 50%; background: #fd90d7bb; top: 80%; left: 18%; }
    .mascot-face .cheek.right { left: 66%;}
    .abacus-body { width: 100%; height: 90px; position:relative; background: #b4d7ff; border-radius: 30px; border: 3px solid #4761b8; display: flex; flex-direction: column; align-items: center; justify-content: center; box-shadow: 0 2px 10px #b993d644;}
    .abacus-rod { width: 90px; height: 7px; background: #fff; border-radius: 6px; margin: 13px auto 0 auto; position:relative; box-shadow: 0 1px 4px #fff5;}
    .abacus-beads { display: flex; flex-direction: row; gap: 13px; margin-top: -12px; margin-bottom: -5px; justify-content: center;}
    .abacus-bead { width: 21px; height: 21px; background: #ffd700; border-radius: 50%; border: 2px solid #ffe05b; margin-top: 5px; margin-bottom: 2px; box-shadow: 0 2px 8px #fff8, 0 0 0 2px #fff8; animation: beadbounce 1s infinite alternate cubic-bezier(.71,1.64,.51,.88);}
    .abacus-bead:nth-child(2) { animation-delay: .17s;}
    .abacus-bead:nth-child(3) { animation-delay: .31s;}
    .abacus-bead:nth-child(4) { animation-delay: .46s;}
    @keyframes beadbounce { from { transform: translateY(0);} to { transform: translateY(-10px);} }
    @media (max-width: 600px) {
      .container { max-width: 98vw; padding: 2rem 1rem 2rem 1rem; }
      h2 { font-size: 1.15em;}
      .abacus-mascot { width: 85px; height: 85px;}
      .mascot-holder { height: 80px;}
    }
  </style>
</head>
<body>
  <div class="container">
    <h2 id="formTitle">Sign In</h2>
    <input type="text" id="username" placeholder="Username or email" autocomplete="username" />
    <div class="password-wrapper">
      <input type="password" id="password" placeholder="Password" autocomplete="current-password" />
      <button type="button" class="toggle-password" tabindex="-1" onclick="togglePassword()">
        <svg id="eyeIcon" fill="none" viewBox="0 0 24 24" stroke="currentColor">
          <path stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
           d="M1.5 12C3.5 7.5 8 4.5 12 4.5c4 0 8.5 3 10.5 7.5-2 4.5-6.5 7.5-10.5 7.5S3.5 16.5 1.5 12zm10.5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
        </svg>
      </button>
    </div>
    <div class="remember-forgot">
      <label class="remember-label" for="remember">
        <input type="checkbox" id="remember">
        Remember me
      </label>
      <a class="forgot-link" tabindex="0">Forgot password?</a>
    </div>
    <button onclick="submitForm()" id="submitBtn">Sign In</button>
    <div class="language-switch-inner">
      <button onclick="toggleLanguage()" id="langBtn">EN / TH</button>
    </div>
    <div class="toggle" id="toggleText">
      New here? <a onclick="toggleMode()">Create an Account</a>
    </div>
  </div>
  <!-- Mascot BELOW card (exact quiz style) -->
  <div class="mascot-holder">
    <div class="abacus-mascot">
      <div class="abacus-body">
        <div class="abacus-rod"></div>
        <div class="abacus-beads">
          <div class="abacus-bead"></div>
          <div class="abacus-bead"></div>
          <div class="abacus-bead"></div>
          <div class="abacus-bead"></div>
        </div>
        <div class="abacus-rod"></div>
      </div>
      <div class="mascot-face">
        <div class="eyes"><div class="eye"></div></div>
        <div class="smile"></div>
        <div class="cheek"></div>
        <div class="cheek right"></div>
      </div>
    </div>
  </div>
  <script>
    let mode = 'signin';

    const translations = {
      en: { signin: "Sign In", signup: "Sign Up", create: "Create an Account", have: "Already have an account?" },
      th: { signin: "เข้าสู่ระบบ", signup: "สมัครสมาชิก", create: "สร้างบัญชี", have: "มีบัญชีอยู่แล้ว?" }
    };

    function togglePassword() {
      const pwd = document.getElementById('password');
      const eye = document.getElementById('eyeIcon');
      if (pwd.type === 'password') {
        pwd.type = 'text';
        eye.innerHTML = '<path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M1.5 12C3.5 7.5 8 4.5 12 4.5c4 0 8.5 3 10.5 7.5-2 4.5-6.5 7.5-10.5 7.5S3.5 16.5 1.5 12zm4 5.5L20 4M3 20l18-16" />';
      } else {
        pwd.type = 'password';
        eye.innerHTML = '<path stroke-width="2" stroke-linecap="round" stroke-linejoin="round" d="M1.5 12C3.5 7.5 8 4.5 12 4.5c4 0 8.5 3 10.5 7.5-2 4.5-6.5 7.5-10.5 7.5S3.5 16.5 1.5 12zm10.5 3a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>';
      }
    }

    function toggleLanguage() {
      const lang = localStorage.getItem('lang') === 'th' ? 'en' : 'th';
      setLanguage(lang);
    }

    function setLanguage(lang) {
      localStorage.setItem('lang', lang);
      const t = translations[lang];
      document.getElementById('formTitle').textContent = mode === 'signin' ? t.signin : t.signup;
      document.getElementById('submitBtn').textContent = mode === 'signin' ? t.signin : t.signup;
      document.getElementById('toggleText').innerHTML =
        mode === 'signin' ? `New here? <a onclick="toggleMode()">${t.create}</a>` : `${t.have} <a onclick="toggleMode()">${t.signin}</a>`;
      document.getElementById('langBtn').textContent = lang === 'en' ? 'EN / TH' : 'TH / EN';
    }

    function toggleMode() {
      mode = mode === 'signin' ? 'signup' : 'signin';
      const lang = localStorage.getItem('lang') || 'en';
      setLanguage(lang);
    }

    function submitForm() {
      const username = document.getElementById('username').value.trim();
      const password = document.getElementById('password').value.trim();
      const remember = document.getElementById('remember').checked;
      const key = `user_${username}`;

      if (!username || !password) return alert('Please fill in all fields.');

      if (mode === 'signin') {
        const stored = localStorage.getItem(key);
        if (!stored) return alert('Account not found. Please sign up first.');
        if (stored !== password) return alert('Incorrect password.');
        const user = { username };
        localStorage.setItem('loggedInUser', JSON.stringify(user));
        if (remember) localStorage.setItem('rememberMe', JSON.stringify(user));
        window.location.href = 'home.html';
      } else {
        if (localStorage.getItem(key)) return alert('Username already exists.');
        localStorage.setItem(key, password);
        alert('Account created! You can now sign in.');
        toggleMode();
      }
    }

    window.onload = () => {
      const lang = localStorage.getItem('lang') || 'en';
      setLanguage(lang);
    };
  </script>
</body>
</html>
