<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/>
  <title>Wonder Kids</title>
  <link href="https://fonts.googleapis.com/css?family=Nunito:700,400&display=swap" rel="stylesheet">
  <style>
    html,body {
      margin: 0; padding: 0;
      width: 100vw; height: 100vh;
      font-family: 'Nunito', Arial, sans-serif;
      background: #f6f7fa;
      overflow: hidden;
      --primary: #b4d7ff;
      --pink: #fd90d7;
      --dark-bg: #232347;
      --dark-main: #18182b;
      --card-bg: #fff;
      --card-bg-dark: #232347;
      --level-bg: #ffe6fc;
      --level-bg-dark: #393356;
      --text: #668cff;
      --text-dark: #ffe066;
      --sidebar-accent: #faf7fe;
      --sidebar-accent-dark: #353861;
    }
    body.dark {
      background: var(--dark-bg);
    }
    body.dark .fixed-top { background: var(--dark-main);}
    body.dark .top-content-area, body.dark .level-card { background: var(--card-bg-dark) !important;}
    body.dark .top-title, body.dark .level-header-row, body.dark .chapter-row { color: var(--text-dark) !important;}
    body.dark .main-btn { color: #fff !important;}
    body.dark .slideshow-dot { background: #b993d6 !important;}
    body.dark .level-card { box-shadow: 0 2px 15px #18182bcc;}
    body.dark .chapter-row { background: #393356 !important; border: 1.5px solid #b993d6 !important;}
    body.dark .chapter-row.completed { background: #353861 !important; color: #ffe066 !important;}
    .fixed-top {
      width: 100vw;
      max-width: 100vw;
      min-height: 38vh;
      background: var(--sidebar-accent);
      box-shadow: 0 2px 18px #c7bae57a;
      z-index: 3;
      position: relative;
      padding-bottom: 2vw;
      transition: min-height .3s, background .2s;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .topbar-btns {
      position: absolute;
      top: 20px;
      right: 22px;
      display: flex;
      align-items: center;
      z-index: 10;
      gap: 15px;
    }
    .icon-btn {
      background: rgba(238,244,255,0.96);
      border-radius: 50%;
      width: 40px; height: 40px;
      border: none;
      display: flex; align-items: center; justify-content: center;
      box-shadow: 0 1px 7px #b993d62a;
      cursor: pointer;
      transition: background .18s, transform .12s;
    }
    .icon-btn:active, .icon-btn.active {
      background: var(--pink);
      transform: scale(1.09);
    }
    .icon-btn svg {
      width: 25px; height: 25px;
      display: block;
    }
    .top-content-area {
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      margin-top: 38px;
      border-radius: 18px;
      background: var(--card-bg);
      box-shadow: 0 2px 16px #b993d644;
      padding: 22px 2vw 25px 2vw;
      display: flex;
      flex-direction: column;
      align-items: center;
      transition: height .35s, max-width .3s, background .2s;
      min-height: 260px;
    }
    .top-title {
      text-align: center;
      font-size: 2rem;
      color: #8d79c9;
      font-weight: 700;
      margin-bottom: 8px;
      letter-spacing: 0.03em;
      transition: color .2s;
    }
    /* SLIDESHOW */
    .slideshow-img-area {
      width: 99%;
      min-height: 190px; max-height: 320px;
      display: flex; justify-content: center; align-items: center;
      margin: 0 0 16px 0;
      position: relative; overflow: hidden;
    }
    .slideshow-img {
      width: 98%; height: 250px;
      object-fit: cover;
      border-radius: 16px;
      box-shadow: 0 2px 16px #b993d624;
      opacity: 0;
      position: absolute;
      transition: opacity .7s cubic-bezier(.61,1.2,.61,.95), transform .6s;
      left: 1%; top: 0;
      z-index: 1;
    }
    .slideshow-img.active { opacity: 1; z-index: 2; transform: scale(1.04);}
    .slideshow-dots {
      display: flex; gap: 9px;
      justify-content: center; margin: 10px 0 0 0;
    }
    .slideshow-dot {
      width: 13px; height: 13px; background: #b4d7ff;
      border-radius: 7px; border: 2px solid #b993d6;
      box-shadow: 0 2px 7px #b993d64a;
      cursor: pointer; transition: background .16s;
      opacity: 0.59;
    }
    .slideshow-dot.active { background: #fd90d7; opacity: 1; }
    /* --- VIDEO + BUTTONS --- */
    .chapter-video {
      width: 99%; max-width: 790px; height: 310px;
      background: #ddd;
      border-radius: 15px;
      box-shadow: 0 3px 13px #b993d63c;
      border: 5px solid #b993d6;
      margin: 0 auto 18px auto;
      display: block;
      transition: height .3s, width .3s;
      background: #fff;
    }
    .chapter-btns {
      display: flex; gap: 17px; margin: 8px auto 0 auto;
      justify-content: center; align-items: center;
    }
    .main-btn {
      background: var(--primary);
      color: #4d528e;
      border: none;
      font-size: 1.13rem;
      font-weight: 700;
      border-radius: 17px;
      box-shadow: 0 2px 11px #bdd6ff1c;
      padding: 0.8em 2.3em;
      margin: 0;
      outline: none;
      cursor: pointer;
      transition: background .14s, color .14s, transform .11s;
      letter-spacing: .01em;
      min-width: 7.7em;
      display: flex; align-items: center; justify-content: center;
      position: relative;
    }
    .main-btn:active, .main-btn.checked {
      background: var(--pink) !important;
      color: #fff !important;
      transform: scale(1.07);
    }
    .main-btn .exercise-check {
      margin-left: 7px;
      display: flex; align-items: center;
    }
    /* --- LEVELS & CHAPTERS --- */
    .levels-area {
      flex: 1 1 0;
      width: 100vw; max-width: 100vw; min-height: 0;
      background: none;
      display: flex; flex-direction: column; align-items: center;
      overflow: hidden;
    }
    .levels-scroll-area {
      width: 99vw; max-width: 620px;
      margin: 0 auto; padding: 10px 0 26px 0;
      overflow-y: auto;
      flex: 1; height: 100%;
      scrollbar-width: thin; scrollbar-color: #b4d7ff33 #fff0;
      transition: background .2s;
    }
    .levels-scroll-area::-webkit-scrollbar { width: 7px; background: none;}
    .levels-scroll-area::-webkit-scrollbar-thumb { background: #b4d7ff38; border-radius: 7px;}
    .levels-scroll-area::-webkit-scrollbar-track { background: none;}
    .level-card {
      background: var(--level-bg);
      border-radius: 24px;
      margin: 16px 0;
      box-shadow: 0 2px 15px #f0c9fd32;
      padding: 0 0 10px 0;
      width: 97%;
      max-width: 540px;
      transition: background .21s, box-shadow .15s;
      position: relative;
    }
    .level-card.open {
      background: #fd90d7;
      box-shadow: 0 4px 24px #b993d6aa;
    }
    .level-header-row {
      display: flex;
      align-items: center;
      height: 51px;
      cursor: pointer;
      font-size: 1.27rem;
      font-weight: 800;
      color: #668cff;
      padding: 0 21px;
      border-radius: 24px 24px 0 0;
      transition: background .13s, color .13s;
      position: relative;
      user-select: none;
      min-height: 51px;
    }
    .level-card.open .level-header-row { color: #fff;}
    .level-icon {
      width: 27px; height: 27px; margin-right: 13px;
      border-radius: 7px;
      display: flex; align-items: center; justify-content: center;
      font-size: 1.6em;
      box-shadow: 0 2px 7px #8ca6db2b;
    }
    .level-name { font-weight: 700; margin-right: 9px; letter-spacing: 0.01em; flex-shrink: 0; }
    .level-progress {
      flex: 1; margin: 0 0 0 10px; height: 10px;
      background: #ede3ff; border-radius: 7px;
      max-width: 110px; position: relative; display: flex; align-items: center;
    }
    .level-progress-bar {
      background: linear-gradient(90deg,#ffe066 30%,#b4d7ff 100%);
      height: 100%; border-radius: 7px;
      transition: width .5s cubic-bezier(.71,1.14,.53,.93);
      box-shadow: 0 1px 4px #ffd70036;
    }
    .level-arrow {
      margin-left: 14px;
      font-size: 1.6rem;
      color: #8ca6db;
      transition: transform .18s;
      user-select: none;
    }
    .level-card.open .level-arrow { color: #fff;}
    .level-card.closed .level-arrow { transform: rotate(90deg);}
    .chapters-list {
      width: 96%; margin: 0 auto 0 auto;
      display: flex; flex-direction: column; gap: 9px;
      max-height: 300px; overflow-y: auto;
      transition: max-height .31s; padding: 4px 0 10px 0;
      scrollbar-width: none;
    }
    .chapters-list::-webkit-scrollbar { display: none; }
    .chapter-row {
      display: flex; align-items: center; justify-content: space-between;
      background: #fff;
      border-radius: 14px;
      box-shadow: 0 1px 7px #b993d629;
      padding: 0.55em 1em;
      font-size: 1.10rem;
      font-weight: 700;
      margin: 0;
      border: 1.7px solid #b4d7ff;
      color: #668cff;
      transition: background .16s, color .13s, border .13s, transform .13s;
      cursor: pointer; min-height: 34px; position: relative;
    }
    .chapter-row.completed {
      color: #aaa;
      background: #ede3ff;
      border: 1.5px solid #ffe066;
    }
    .chapter-row.active, .chapter-row.unlocked:hover, .chapter-row.unlocked:focus {
      background: #fd90d7;
      color: #fff;
      border: 1.7px solid #fd90d7;
      transform: scale(1.03);
      z-index: 2;
      box-shadow: 0 2px 18px #fd90d726;
    }
    @media (min-width:1050px) {
      .top-content-area { max-width: 1000px;}
      .chapter-video { max-width: 990px; height: 440px;}
      .levels-scroll-area { max-width: 710px;}
      .level-card { max-width: 700px;}
    }
    @media (max-width: 750px) {
      .top-content-area { max-width: 99vw;}
      .levels-scroll-area { max-width: 99vw;}
      .level-card { max-width: 97vw;}
      .chapter-video { height: 160px;}
    }
    @media (max-width: 480px) {
      .top-content-area { border-radius: 0 0 16px 16px; padding: 12px 0vw 13px 0vw;}
      .fixed-top { padding-bottom: 6px; min-height: 37vh;}
      .levels-scroll-area { max-width: 100vw;}
      .level-card { max-width: 100vw;}
    }
    /* Fullscreen chapter on landscape */
    @media (orientation: landscape) and (max-width: 900px) {
      .fixed-top { min-height: 96vh !important; }
      .top-content-area, .chapter-video { width: 100vw !important; max-width: 100vw !important; height: 98vh !important; }
      .levels-area { display: none !important;}
      .top-title { font-size: 1.17rem;}
    }
    /* SETTINGS PANEL - cute switches/toggles/boxes */
    #settingsModal {
      display:none;position:fixed;left:0;top:0;width:100vw;height:100vh;z-index:1000;
      background:#0007; backdrop-filter: blur(2px);
      transition: background .2s;
    }
    .settings-box {
      background: #fff;
      padding:2em 2.4em 1.7em 2.4em;
      max-width: 340px; border-radius:22px;
      box-shadow:0 4px 40px #b993d658;
      position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
      display: flex; flex-direction: column; gap: 1.3em;
    }
    body.dark .settings-box { background: #232347; color: #ffe066; }
    .settings-title {
      font-weight:800;font-size:1.3em;color:#8d79c9;margin-bottom:1em;text-align:center;
    }
    .settings-row {
      display: flex; align-items: center; justify-content: space-between;
      gap: 1.1em;
    }
    .settings-label { font-size: 1.08em; color: #7e7ea0; font-weight: 700; }
    .settings-input, .settings-select {
      border:none; border-radius: 14px;
      padding: .51em 1.2em;
      background: var(--primary);
      color: #434272; font-size: 1.05em; font-weight: 700;
      outline: none;
      transition: background .13s, color .13s, box-shadow .11s;
      min-width: 4em;
      cursor:pointer;
      box-shadow: 0 2px 10px #b4d7ff22;
    }
    .settings-input:active, .settings-input:focus,
    .settings-select:active, .settings-select:focus {
      background: var(--pink); color: #fff;
      box-shadow: 0 4px 16px #fd90d755;
    }
    /* Toggle switch */
    .switch {
      position: relative; display: inline-block; width: 42px; height: 23px;
      vertical-align: middle;
    }
    .switch input { opacity: 0; width: 0; height: 0;}
    .slider {
      position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0;
      background: var(--primary); transition: .3s; border-radius: 23px;
    }
    .slider:before {
      position: absolute; content: "";
      height: 17px; width: 17px; left: 3px; bottom: 3px;
      background: #fff; border-radius: 50%;
      transition: .3s;
    }
    input:checked + .slider { background: var(--pink);}
    input:checked + .slider:before { transform: translateX(19px);}
    /* Responsive settings */
    @media (max-width:500px) {
      .settings-box { max-width: 99vw; min-width: 0; padding:1em 2vw;}
    }
    /* END */
  </style>
</head>
<body>
  <div class="fixed-top">
    <div class="topbar-btns">
      <button id="settingsBtn" class="icon-btn" title="Settings">
        <svg viewBox="0 0 20 20" fill="none"><circle cx="10" cy="10" r="8" stroke="#668cff" stroke-width="2"/><path d="M10 7.7a2.3 2.3 0 100 4.6 2.3 2.3 0 000-4.6zm7.7 2.3a1.1 1.1 0 01-.2.6l-1.2.6a7.5 7.5 0 01-.4.7l.4 1.4c.06.2 0 .4-.1.6l-1.4 1.4c-.16.16-.4.2-.6.14l-1.4-.4a7.5 7.5 0 01-.7.4l-.6 1.2c-.13.26-.4.42-.66.42H8.8c-.28 0-.53-.15-.66-.42l-.6-1.2a7.5 7.5 0 01-.7-.4l-1.4.4a.59.59 0 01-.6-.14l-1.4-1.4a.59.59 0 01-.14-.6l.4-1.4a7.5 7.5 0 01-.4-.7l-1.2-.6A1.1 1.1 0 012.3 10c0-.3.1-.5.2-.7l1.2-.6c.12-.22.26-.44.4-.7l-.4-1.4A.59.59 0 013.2 6l1.4-1.4a.59.59 0 01.6-.14l1.4.4c.2-.13.43-.26.7-.4l.6-1.2A1.1 1.1 0 018.8 2.3h2.4c.28 0 .53.15.66.42l.6 1.2a7.5 7.5 0 01.7.4l1.4-.4c.2-.07.44-.02.6.14l1.4 1.4c.15.16.2.4.14.6l-.4 1.4c.14.25.28.48.4.7l1.2.6c.13.22.2.45.2.7z" stroke="#668cff" stroke-width="1.3"/></svg>
      </button>
      <button id="fullscreenBtn" class="icon-btn" title="Fullscreen">
        <svg viewBox="0 0 20 20" fill="none"><rect x="3" y="3" width="4" height="2" rx="1" fill="#668cff"/><rect x="3" y="3" width="2" height="4" rx="1" fill="#668cff"/><rect x="13" y="3" width="4" height="2" rx="1" fill="#668cff"/><rect x="15" y="3" width="2" height="4" rx="1" fill="#668cff"/><rect x="3" y="15" width="4" height="2" rx="1" fill="#668cff"/><rect x="3" y="13" width="2" height="4" rx="1" fill="#668cff"/><rect x="13" y="15" width="4" height="2" rx="1" fill="#668cff"/><rect x="15" y="13" width="2" height="4" rx="1" fill="#668cff"/></svg>
      </button>
    </div>
    <div class="top-content-area" id="topContentArea">
      <div id="topContent"></div>
    </div>
  </div>
  <div class="levels-area">
    <div class="levels-scroll-area" id="levelsScrollArea"></div>
  </div>
  <!-- Settings Modal -->
  <div id="settingsModal">
    <form class="settings-box" onsubmit="return false;">
      <div class="settings-title">Settings</div>
      <div class="settings-row">
        <span class="settings-label">Font Size:</span>
        <input id="fontSizeSlider" class="settings-input" type="range" min="0.9" max="1.25" step="0.01" value="1"/>
      </div>
      <div class="settings-row">
        <span class="settings-label">Dark Mode:</span>
        <label class="switch">
          <input type="checkbox" id="darkModeCheck">
          <span class="slider"></span>
        </label>
      </div>
      <div class="settings-row">
        <span class="settings-label">Language:</span>
        <select id="langSel" class="settings-select">
          <option value="en">English</option>
          <option value="th">à¹„à¸—à¸¢</option>
          <option value="zh">ä¸­æ–‡</option>
        </select>
      </div>
      <div class="settings-row">
        <span class="settings-label">Sound FX:</span>
        <select id="soundSel" class="settings-select">
          <option value="on">On</option>
          <option value="off">Off</option>
        </select>
      </div>
      <div class="settings-row" style="justify-content:center;">
        <button onclick="document.getElementById('settingsModal').style.display='none'" class="main-btn" type="button">Close</button>
      </div>
    </form>
  </div>
  <script>
    // -------- LEVELS/CHAPTERS DATA ----------
    const bookIcons = [
      {color:'#5bb3ff',icon:'ðŸ“˜'},{color:'#6ccc88',icon:'ðŸ“—'},{color:'#ef7d67',icon:'ðŸ“•'},{color:'#ffe066',icon:'ðŸ“™'},
      {color:'#fd90d7',icon:'ðŸ“’'},{color:'#b993d6',icon:'ðŸ“š'},{color:'#f0af54',icon:'ðŸ“”'},{color:'#70d8eb',icon:'ðŸ“–'},
      {color:'#a685e2',icon:'ðŸ““'},{color:'#f7c873',icon:'ðŸ“™'}
    ];
    const levelData = [];
    for(let i=1;i<=10;i++) {
      const nCh = i===1?20:10;
      levelData.push({
        name:'Level '+i,
        chapters: Array.from({length:nCh},(_,j)=>({
          title:'Chapter '+(j+1),
          completed:false,
          exerciseDone:false,
          videoWatched:false
        })),
        progress:0,
        open:(i===1)
      });
    }
    // -------- SLIDESHOW IMAGES ----------
    const slides=[
      "https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=600&q=80",
      "https://images.unsplash.com/photo-1529626455594-4ff0802cfb7e?auto=format&fit=crop&w=600&q=80",
      "https://images.unsplash.com/photo-1503676382389-4809596d5290?auto=format&fit=crop&w=600&q=80"
    ];
    let selected={level:0,chapter:0}, showingChapter=false, slideIdx=0;

    // SVGs
    function checkSvg() {
      return `<svg width="18" height="18" viewBox="0 0 18 18"><circle cx="9" cy="9" r="8.5" fill="#ffe066" stroke="#ffe066"/><path d="M5.5 9.5l2 2 5-5" stroke="#b993d6" stroke-width="2.1" fill="none" stroke-linecap="round" stroke-linejoin="round"/></svg>`;
    }
    // ----------- TOP AREA RENDERING -------------
    function renderTop() {
      const tc=document.getElementById('topContent');
      tc.innerHTML='';
      if(!showingChapter) {
        tc.innerHTML=`
          <div class="top-title">Welcome to Wonder Kids!</div>
          <div class="slideshow-img-area" style="margin-top:10px;">
            ${slides.map((src,i)=>`<img src="${src}" class="slideshow-img${i===slideIdx?' active':''}" id="slideImg${i}" />`).join('')}
          </div>
          <div class="slideshow-dots">
            ${slides.map((_,i)=>`<span class="slideshow-dot${i===slideIdx?' active':''}" onclick="goSlide(${i})"></span>`).join('')}
          </div>
        `;
      } else {
        const lvl=levelData[selected.level], ch=lvl.chapters[selected.chapter];
        tc.innerHTML=`
          <div class="top-title">${lvl.name} - ${ch.title}</div>
          <iframe class="chapter-video" id="chapterVideo" src="https://www.youtube.com/embed/K91CRNQg2dg" allowfullscreen
            onclick="watchVideo()"></iframe>
          <div class="chapter-btns">
            <button class="main-btn${ch.exerciseDone?' checked':''}" onclick="completeExercise()">
              EXERCISE${ch.exerciseDone?'<span class="exercise-check">'+checkSvg()+'</span>':''}
            </button>
            ${selected.chapter<lvl.chapters.length-1?'<button class="main-btn" onclick="goNextChapter()">NEXT</button>':''}
          </div>
        `;
      }
    }
    // ----------- LEVELS & CHAPTERS RENDERING -------------
    function renderLevels() {
      const area=document.getElementById('levelsScrollArea');
      area.innerHTML='';
      for(let i=0;i<levelData.length;i++) {
        const lvl=levelData[i],book=bookIcons[i%bookIcons.length];
        const n= lvl.chapters.length, nDone=lvl.chapters.filter(c=>c.completed).length;
        lvl.progress = nDone/n;
        area.innerHTML+=`
          <div class="level-card${lvl.open?' open':' closed'}" id="levelCard${i}">
            <div class="level-header-row" onclick="toggleLevel(${i})">
              <span class="level-icon" style="background:${book.color};">${book.icon}</span>
              <span class="level-name">${lvl.name}</span>
              <span class="level-progress"><span class="level-progress-bar" style="width:${Math.round(lvl.progress*100)}%;"></span></span>
              <span class="level-arrow" id="levelArrow${i}">${lvl.open?'â–´':'â–¾'}</span>
            </div>
            <div class="chapters-list" id="chaptersList${i}" style="display:${lvl.open?'flex':'none'};">
              ${lvl.chapters.map((ch,j)=>{
                let classes="chapter-row";
                if(ch.completed) classes+=' completed';
                else classes+=' unlocked';
                if(showingChapter&&selected.level===i&&selected.chapter===j) classes+=' active';
                return `<div class="${classes}" onclick="selectChapter(event,${i},${j})">
                  <span>${ch.title}</span>
                  ${ch.completed?`<span class="chapter-check">${checkSvg()}</span>`:''}
                </div>`;
              }).join('')}
            </div>
          </div>
        `;
      }
    }
    // ---------- TOGGLING LEVEL TABS -------------
    window.toggleLevel=function(i){
      for(let j=0;j<levelData.length;j++){
        levelData[j].open=(j===i)?!levelData[j].open:false;
        document.getElementById('chaptersList'+j).style.display=levelData[j].open?'flex':'none';
        document.getElementById('levelCard'+j).className='level-card'+(levelData[j].open?' open':' closed');
        document.getElementById('levelArrow'+j).textContent=levelData[j].open?'â–´':'â–¾';
      }
    };
    // ---------- SELECT CHAPTER -------------
    window.selectChapter=function(e,li,ci){
      showingChapter=true;
      selected={level:li,chapter:ci};
      renderTop(); renderLevels();
      e.stopPropagation();
    };
    // ---------- EXERCISE COMPLETION -------------
    window.completeExercise = function() {
      let ch = levelData[selected.level].chapters[selected.chapter];
      ch.exerciseDone = true;
      if (ch.videoWatched) ch.completed = true;
      renderTop(); renderLevels();
    };
    // ---------- "WATCH" VIDEO -------------
    function watchVideo() {
      let ch = levelData[selected.level].chapters[selected.chapter];
      ch.videoWatched = true;
      if (ch.exerciseDone) ch.completed = true;
      renderTop(); renderLevels();
    }
    // ---------- NEXT BUTTON -------------
    window.goNextChapter=function(){
      const {level:l,chapter:c}=selected;
      if(levelData[l].chapters[c+1]) {
        selected={level:l,chapter:c+1}; showingChapter=true;
        renderTop(); renderLevels();
      }
    }
    // -- Slideshow controls
    window.goSlide=function(i){ slideIdx=i; renderTop();}
    setInterval(()=>{if(!showingChapter){slideIdx=(slideIdx+1)%slides.length;renderTop();}},5000);
    // -- Fullscreen (whole app, not just video)
    document.getElementById('fullscreenBtn').onclick = ()=>{
      if (document.fullscreenElement) document.exitFullscreen();
      else if (document.documentElement.requestFullscreen) document.documentElement.requestFullscreen();
    };
    // -- Settings
    document.getElementById('settingsBtn').onclick=()=>{document.getElementById('settingsModal').style.display='block';}
    document.getElementById('fontSizeSlider').oninput=(e)=>{
      document.documentElement.style.fontSize = e.target.value+'rem';
    };
    document.getElementById('darkModeCheck').onchange=(e)=>{
      document.body.classList.toggle('dark', e.target.checked);
    };
    document.getElementById('langSel').onchange=(e)=>{
      alert("Language switched to: "+e.target.options[e.target.selectedIndex].text);
    }
    document.getElementById('soundSel').onchange=(e)=>{
      alert("Sound FX: "+e.target.value);
    };
    // -- Automatic full screen video on landscape for mobile/tablet
    function handleOrientationChange() {
      if(window.innerWidth > window.innerHeight) {
        if(showingChapter) document.documentElement.requestFullscreen && document.documentElement.requestFullscreen();
      } else {
        if(document.fullscreenElement) document.exitFullscreen && document.exitFullscreen();
      }
    }
    window.addEventListener("orientationchange", handleOrientationChange);
    // -- Initial render
    window.onload=()=>{
      renderTop();
      renderLevels();
    }
  </script>
</body>
</html>
